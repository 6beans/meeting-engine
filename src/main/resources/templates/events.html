<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Events</title>
    <link href="/webjars/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
<div class="container mt-3">
    <h1>Events</h1>
    <div class="mb-3">
        <a class="btn btn-primary" href="/events/new">Create New Event</a>
    </div>
    <div th:if="${eventPage.isEmpty()}">
        <p>No events found.</p>
    </div>
    <div th:unless="${eventPage.isEmpty()}">
        <table class="table">
            <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Creation Date</th>
                <th>End Date</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="event : ${eventPage}">
                <td th:text="${event.title}">Title</td>
                <td th:text="${event.description}">Description</td>
                <td th:text="${event.creationDate}">Creation Date</td>
                <td th:text="${event.endDate}">End Date</td>
                <td th:text="${event.isActive ? 'Active' : 'Inactive'}">Status</td>
            </tr>
            </tbody>
        </table>
        <div class="d-flex justify-content-center mt-4">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item" th:classappend="${eventPage.first ? 'disabled' : ''}">
                        <a aria-label="First" class="page-link" th:href="@{/events(page=0, size=${eventPage.size})}">
                            <span aria-hidden="true">&laquo;&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item" th:classappend="${eventPage.first ? 'disabled' : ''}">
                        <a aria-label="Previous" class="page-link"
                           th:href="@{/events(page=${eventPage.number - 1}, size=${eventPage.size})}">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item"
                        th:classappend="${i == eventPage.number ? 'active' : ''}" th:each="i : ${#numbers.sequence(eventPage.number > 2 ? eventPage.number - 2 : 0, eventPage.number < eventPage.totalPages - 3 ? eventPage.number + 2 : eventPage.totalPages - 1)}">
                        <a class="page-link" th:href="@{/events(page=${i}, size=${eventPage.size})}" th:text="${i + 1}">1</a>
                    </li>
                    <li class="page-item" th:classappend="${eventPage.last ? 'disabled' : ''}">
                        <a aria-label="Next" class="page-link"
                           th:href="@{/events(page=${eventPage.number + 1}, size=${eventPage.size})}">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                    <li class="page-item" th:classappend="${eventPage.last ? 'disabled' : ''}">
                        <a aria-label="Last"
                           class="page-link"
                           th:href="@{/events(page=${eventPage.totalPages - 1}, size=${eventPage.size})}">
                            <span aria-hidden="true">&raquo;&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>
<script src="/webjars/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>